{% extends 'base.html' %}
{% include "Event_Statistics/css.html"%}
{% if not user.is_authenticated %}
<meta http-equiv="refresh" content="0; URL=http://127.0.0.1:8000/login/">
{% endif %}	
			
	<head>
		{% block head %}
			<center><font size = "+3">Event Statistic</font></center>	
		{% endblock %}
		
	</head>
	
	
	
	
		
	    
	    
	    
	    
	    
<body>

{% block body%}	

		<div id="main" >
			
			<div class=left style="width:12%;	height:1000px;	background-color:#17a2b8;	margin:0px;	float:left;">
				<script type = "text/javascript">
		        window.onload = function()
		        {
		        	
		        	var bn=["f1","f2","so1","so2","j1","j2","se1","se2","fa1","fa2","st1","st2","csb1","csb2","sju1","sju2"];
				    var b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
				    bs=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
			    	
				    for(i=0; i<16;i++){
				    	b[i]=document.getElementById(bn[i]);
				    	bs[i]=false;
				    	
				    }
				 	 index=[0,2,4,6,8,10,12,14];
					    b[index[0]].onclick = function(){
					    if(bs[index[0]]==0){
					        b[index[0]].style.backgroundColor="#1ec5e5";
					        bs[index[0]]=true;
					        b[index[0]+1].style.backgroundColor="#1ec5e5";
					        bs[index[0]+1]=true;}
					    else{
					    	b[index[0]].style.backgroundColor="#cc0000";
					    	bs[index[0]]=false;
					    	b[index[0]+1].style.backgroundColor="#cc0000";
					    	bs[index[0]+1]=false;}
					    	refresh();
					    }
					    
					 	
					    b[index[0]+1].onclick = function(){
					    if(bs[index[0]+1]==0){
					        b[index[0]+1].style.backgroundColor="#1ec5e5";
					        bs[index[0]+1]=true;}
					    else{
					    	b[index[0]+1].style.backgroundColor="#cc0000";
					    	bs[index[0]+1]=false;}
					    	refresh();
					    }
					    
					    
					    
					    b[index[1]].onclick = function(){
					    if(bs[index[1]]==0){
					        b[index[1]].style.backgroundColor="#1ec5e5";
					        bs[index[1]]=true;
					        b[index[1]+1].style.backgroundColor="#1ec5e5";
					        bs[index[1]+1]=true;}
					    else{
					    	b[index[1]].style.backgroundColor="#cc0000";
					    	bs[index[1]]=false;
					    	b[index[1]+1].style.backgroundColor="#cc0000";
					    	bs[index[1]+1]=false;}
					    	refresh();
					    }
					    
					 	
					    b[index[1]+1].onclick = function(){
					    if(bs[index[1]+1]==0){
					        b[index[1]+1].style.backgroundColor="#1ec5e5";
					        bs[index[1]+1]=true;}
					    else{
					    	b[index[1]+1].style.backgroundColor="#cc0000";
					    	bs[index[1]+1]=false;}
					    	refresh();
					    }
					    
					    
					    
					    
					   b[index[2]].onclick = function(){
					    if(bs[index[2]]==0){
					        b[index[2]].style.backgroundColor="#1ec5e5";
					        bs[index[2]]=true;
					        b[index[2]+1].style.backgroundColor="#1ec5e5";
					        bs[index[2]+1]=true;}
					    else{
					    	b[index[2]].style.backgroundColor="#cc0000";
					    	bs[index[2]]=false;
					    	b[index[2]+1].style.backgroundColor="#cc0000";
					    	bs[index[2]+1]=false;}
					    	refresh();
					    }
					    
					 	
					    b[index[2]+1].onclick = function(){
					    if(bs[index[2]+1]==0){
					        b[index[2]+1].style.backgroundColor="#1ec5e5";
					        bs[index[2]+1]=true;}
					    else{
					    	b[index[2]+1].style.backgroundColor="#cc0000";
					    	bs[index[2]+1]=false;}
					    	refresh();
					    }
					    
					    b[index[3]].onclick = function(){
					    if(bs[index[3]]==0){
					        b[index[3]].style.backgroundColor="#1ec5e5";
					        bs[index[3]]=true;
					        b[index[3]+1].style.backgroundColor="#1ec5e5";
					        bs[index[3]+1]=true;}
					    else{
					    	b[index[3]].style.backgroundColor="#cc0000";
					    	bs[index[3]]=false;
					    	b[index[3]+1].style.backgroundColor="#cc0000";
					    	bs[index[3]+1]=false;}
					    	refresh();
					    }
					    
					 	
					    b[index[3]+1].onclick = function(){
					    if(bs[index[3]+1]==0){
					        b[index[3]+1].style.backgroundColor="#1ec5e5";
					        bs[index[3]+1]=true;}
					    else{
					    	b[index[3]+1].style.backgroundColor="#cc0000";
					    	bs[index[3]+1]=false;}
					    	refresh();
					    }
					    
					    
					    b[index[4]].onclick = function(){
					    if(bs[index[4]]==0){
					        b[index[4]].style.backgroundColor="#1ec5e5";
					        bs[index[4]]=true;
					        b[index[4]+1].style.backgroundColor="#1ec5e5";
					        bs[index[4]+1]=true;}
					    else{
					    	b[index[4]].style.backgroundColor="#cc0000";
					    	bs[index[4]]=false;
					    	b[index[4]+1].style.backgroundColor="#cc0000";
					    	bs[index[4]+1]=false;}
					    	refresh();
					    }
					    
					 	
					    b[index[4]+1].onclick = function(){
					    if(bs[index[4]+1]==0){
					        b[index[4]+1].style.backgroundColor="#1ec5e5";
					        bs[index[4]+1]=true;}
					    else{
					    	b[index[4]+1].style.backgroundColor="#cc0000";
					    	bs[index[4]+1]=false;}
					    	refresh();
					    }
					    
					    b[index[5]].onclick = function(){
					    if(bs[index[5]]==0){
					        b[index[5]].style.backgroundColor="#1ec5e5";
					        bs[index[5]]=true;
					        b[index[5]+1].style.backgroundColor="#1ec5e5";
					        bs[index[5]+1]=true;}
					    else{
					    	b[index[5]].style.backgroundColor="#cc0000";
					    	bs[index[5]]=false;
					    	b[index[5]+1].style.backgroundColor="#cc0000";
					    	bs[index[5]+1]=false;}
					    	refresh();
					    }
					    
					 	
					    b[index[5]+1].onclick = function(){
					    if(bs[index[5]+1]==0){
					        b[index[5]+1].style.backgroundColor="#1ec5e5";
					        bs[index[5]+1]=true;}
					    else{
					    	b[index[5]+1].style.backgroundColor="#cc0000";
					    	bs[index[5]+1]=false;}
					    	refresh();
					    }
					    
					    
					    b[index[6]].onclick = function(){
					    if(bs[index[6]]==0){
					        b[index[6]].style.backgroundColor="#1ec5e5";
					        bs[index[6]]=true;
					        b[index[6]+1].style.backgroundColor="#1ec5e5";
					        bs[index[6]+1]=true;}
					    else{
					    	b[index[6]].style.backgroundColor="#cc0000";
					    	bs[index[6]]=false;
					    	b[index[6]+1].style.backgroundColor="#cc0000";
					    	bs[index[6]+1]=false;}
					    	refresh();
					    }
					    
					 	
					    b[index[6]+1].onclick = function(){
					    if(bs[index[6]+1]==0){
					        b[index[6]+1].style.backgroundColor="#1ec5e5";
					        bs[index[6]+1]=true;}
					    else{
					    	b[index[6]+1].style.backgroundColor="#cc0000";
					    	bs[index[6]+1]=false;}
					    	refresh();
					    }
					    
					    
					    b[index[7]].onclick = function(){
					    if(bs[index[7]]==0){
					        b[index[7]].style.backgroundColor="#1ec5e5";
					        bs[index[7]]=true;
					        b[index[7]+1].style.backgroundColor="#1ec5e5";
					        bs[index[7]+1]=true;}
					    else{
					    	b[index[7]].style.backgroundColor="#cc0000";
					    	bs[index[7]]=false;
					    	b[index[7]+1].style.backgroundColor="#cc0000";
					    	bs[index[7]+1]=false;}
					    	refresh();
					    }
					    
					 	
					    b[index[7]+1].onclick = function(){
					    if(bs[index[7]+1]==0){
					        b[index[7]+1].style.backgroundColor="#1ec5e5";
					        bs[index[7]+1]=true;}
					    else{
					    	b[index[7]+1].style.backgroundColor="#cc0000";
					    	bs[index[7]+1]=false;}
					    	refresh();
					    }
		      	}
		    	</script>
				<div id="f1" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">FirstYear</div>
				<div id="so1" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">Sophomore</div>
				<div id="j1" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">Junior</div>
				<div id="se1" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">Senior</div>
				<div id="fa1" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">Faculty</div>
				<div id="st1" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">Staff</div>
				<div id="csb1" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">CSB</div>
				<div id="sju1" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">SJU</div>
			</div>

			<div id="mid" class=mid style="width:76%;	height:1000px;	background-color:#17a2b8;	float:left;">
			
				<div id="chartdiv" style="width: 76%; height: 500px;"></div>   

				
				<script type="text/javascript">
				var chart;
				var legend;
				var a=26, b=210;
				var chartData = [{
				    country: "Left Selected Group",
				    value: a},
				{
				    country: "Right Selected Group",
				    value: b}];
				AmCharts.ready(function() {
					
				    chart = new AmCharts.AmPieChart();
				    chart.dataProvider = chartData;
				    chart.titleField = "country";
				    chart.valueField = "value";
				    chart.outlineColor = "";
				    chart.outlineAlpha = 0.8;
				    chart.outlineThickness = 2;
		
				    chart.depth3D = 20;
				    chart.angle = 30;
		
				    chart.write("chartdiv");
				});
				</script>
			
	
			</div>

			<div class=right style="width:12%;	height:1000px;	background-color:#17a2b8;	float:left;">
				<div id="f2" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">FirstYear</div>
				<div id="so2" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">Sophomore</div>
				<div id="j2" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">Junior</div>
				<div id="se2" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">Senior</div>
				<div id="fa2" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">Faculty</div>
				<div id="st2" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">Staff</div>
				<div id="csb2" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">CSB</div>
				<div id="sju2" class=button style="width:140px;	height:100px;	background-color:#cc0000;	border-radius:20px;	margin:18px;	text-align:center;	line-height:100px;">SJU</div>
			</div>
<script type="text/javascript">
	
		function refresh(){
			console.log(bs);
			
		
			year="{{year}}";
			campus="{{campus}}";
			year=year.split(',');
			campus=campus.split(',');
			campus[campus.length-1]=campus[campus.length-1].substring(0,campus[campus.length-1].length-2);
			year[year.length-1]=year[year.length-1].substring(0,year[year.length-1].length-2);
			
			console.log(year);
			var left=0, right=0;
			for(i=0;i<campus.length;i++){
				if((campus[i]==" &#39;An SJU-enrolled student&#39;")&&bs[14] || (campus[i]==" &#39;A CSB-enrolled student&#39;")&&bs[12]  ||  (campus[i]==" &#39;A faculty member&#39;")&&bs[8]|| (campus[i]==" &#39;A staff member&#39;")&&bs[10]){
					//if(((year[i]==" &#39;Senior&#39;")==bs[6] )|| ((year[i]==" &#39;2nd-year student&#39;")==bs[2])||((year[i]==" &#39;1st-year student&#39;")==bs[0])||((year[i]==" &#39;Junior&#39;")==bs[4])){
						left++;
						
					//}
				}
				if((campus[i]==" &#39;An SJU-enrolled student&#39;")&&bs[15] || (campus[i]==" &#39;A CSB-enrolled student&#39;")&&bs[13]  ||  (campus[i]==" &#39;A faculty member&#39;")&&bs[9]|| (campus[i]==" &#39;A staff member&#39;")&&bs[11]){
					//if((year[i]==" &#39;Senior&#39;")==bs[7] || (year[i]==" &#39;2nd-year student&#39;")==bs[3]||(year[i]==" &#39;1st-year student&#39;")==bs[1]||(year[i]==" &#39;Junior&#39;")==bs[5]){
						right++;
					//}
				}
			}
			//alert("hello");
			
			
		    console.log("LEFT: "+left+"    "+"RIGHT: "+right);
		
			var chartData = [{
			    country: "Right Selected Group",
			    value: right},
				{
			    country: "Left Selected Group",
			    value:left} 
			];
			chart = new AmCharts.AmPieChart();
		    chart.dataProvider = chartData;
		    chart.titleField = "country";
		    chart.valueField = "value";
		    chart.outlineColor = "";
		    chart.outlineAlpha = 0.8;
		    chart.outlineThickness = 2;
	
		    chart.depth3D = 20;
		    chart.angle = 30;
	
		    chart.write("chartdiv");
		}

		
	    </script>
				

			
			

	</div>



		<script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
		<script src="https://www.amcharts.com/lib/3/pie.js"></script>
		<script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
		<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
		<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
		<script src="http://sandbox.runjs.cn/uploads/rs/146/73fi1rab/amcharts.js"></script>
{% endblock %}
</body>
		
		



	